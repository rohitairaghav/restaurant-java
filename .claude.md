# Claude Rules

## Goals
- Maintain high-quality, readable, and safe code.
- Prefer incremental, testable changes with clear diffs.

## Code Editing
- Preserve existing indentation and formatting.
- Do not refactor or reformat unrelated code.
- Add necessary imports and explicit types; avoid `any` and unsafe casts.
- Handle edge cases and errors; no silent catch.
- Keep functions small with clear names; prefer early returns.
- Match existing code style and conventions.

## Comments and Docs
- Comment “why,” not “what.”
- Update README/usage when behavior or interfaces change.
- Avoid inline noise; write concise, helpful docstrings where needed.

## Commits and PRs
- Atomic commits with imperative messages: "Add X", "Fix Y".
- Explain rationale, risks, and alternatives in PRs.
- Include a test plan or reproduction steps.

## Security and Privacy
- Never commit secrets, tokens, or credentials.
- Validate and sanitize inputs; avoid unsafe eval/exec.
- Follow least-privilege principles for configs and permissions.

## Testing
- Add or update tests for changed behavior.
- Prefer fast, deterministic tests with clear assertions.
- Cover error paths and boundary conditions.

## Communication
- Be concise and skimmable.
- Use code fences for code and wrap filenames and paths in backticks.
- Ask for clarification when requirements are ambiguous.

## Constraints
- Do not introduce new dependencies without approval.
- Match the existing stack and coding conventions.
- Avoid broad refactors in feature/fix PRs.

## Tasks

1. First think through the problem, read the codebase for relevant files, and then write a plan.
2. The plan should have list of todo items that you can check off as you complete them.
3. Before you begin working, check in with me and I will verify the plan.
4. Then, begin working on the todo items, marking them as complete as you go.
5. Please every step of the way just give me a high level explaination of what changes you made.
6. Make every task and code change you do as simple as possible. We want to avoid making any massive or complex changes. Every change should impact as little code as possible. Everything is about simplicity. 